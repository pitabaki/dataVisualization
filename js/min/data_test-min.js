function occurChart(){function t(t){return t.UrlText_=t.UrlText_,t}var a=[],n=0,e=0,r=0,o=0,i=0,l=0,s=0,c=0,d=0,u=0,f=$("#barChart").width(),g={top:30,right:.005*f,bottom:30,left:.14*f},h=f-g.left-g.right,p=540-g.top-g.bottom;h=720>=f&&f>400?.9*f-g.left-g.right:400>=f?1*f-g.left-g.right:.8*f-g.left-g.right;var m=d3.scale.ordinal().rangeRoundBands([0,h],.15),w=d3.scale.linear().range([p,0]),v=d3.svg.axis().scale(m).orient("top"),x=d3.svg.axis().scale(w).orient("left"),b=d3.select("#barChart").attr("width",h+g.left+g.right).attr("height",p+g.top+g.bottom).append("g").attr("transform","translate("+g.left+","+g.top+")");d3.csv("csv/clicks_02.csv",t,function(t,f){console.log("first data is "+f[0].UrlText_);for(var g=[n,e,r,o,i,u,l,s,c,d],h=0;h<f.length;h++)a.push(f[h].UrlText_);for(h=0;h<f.length;h++)"unsubscribe"===a[h]&&++n,"reg"===a[h]&&++e,"info"===a[h]&&++o,"countdown"===a[h]&&++r,"leo_product"===a[h]&&++i,"homepage"===a[h]&&++u,"cal"===a[h]&&++l,"Browser"===a[h]&&++s,"libra"===a[h]&&++c,"IntelligentDC"===a[h]&&++d;var y=["Unsubscribe","Registration","Information","ISE Countdown","LEO family","Meyer Sound","CAL","View in Browser","Libra","IntelligentDC"],C=[n,e,r,o,i,u,l,s,c,d],f=[];for(h=0;h<C.length;h++)f[h]={name:y[h],value:C[h]};var T=[];for(h=0;h<g.length;h++)T[h]={name:y[h],value:g[h]};console.log("data is "+f),console.log("empty data is "+T),console.log("second data at position 0 is "+T[0].name),m.domain(f.map(function(t){return t.name})),w.domain([0,d3.max(f,function(t){return t.value})]),b.append("g").attr("class","x axis").attr("transform","translate(0,"+p+")").call(v),b.append("g").attr("class","y axis").call(x),b.selectAll(".bar").data(T).enter().append("rect").attr("fill","#222222").attr("class","bar").attr("id",function(t){return t.name}).attr("x",function(t){return m(t.name)}).attr("y",function(t){return w(t.value)}).attr("height",function(t){return p-w(t.value)}).attr("width",m.rangeBand()),b.selectAll(".x text").attr("x","100").attr("y","-4").attr("opacity","1"),d3.select("body").on("mouseover",function(){b.selectAll(".bar").data(f).transition().duration(750).ease("sin").attr("fill","#5489c7").attr("x",function(t){return m(t.name)}).attr("y",function(t){return w(t.value)}).attr("height",function(t){return p-w(t.value)}).attr("width",m.rangeBand()),b.selectAll(".x text").transition().duration(750).attr("x","100").attr("opacity","0")}),console.log(C),console.log(g)})}window.onload=occurChart,$(window).resize(function(){$("body").find("#barChart").empty().append(occurChart)});var windowSize=$(window).width();console.log("this is the correct "+windowSize),windowSize>=480&&$(".preview").hover(function(){$(this).animate({marginTop:"+10px"},1e3)},function(){$(this).animate({marginTop:"+0"},500)});