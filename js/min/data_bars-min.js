function occurChart(){function t(t){return t.value=+t.value,t}var a=$(".container").width(),r={top:30,right:.14*a,bottom:30,left:.14*a},n=a-r.left-r.right,o=360-r.top-r.bottom;720>=a&&a>400?(n=.9*a-r.left-r.right,o=360-r.top-r.bottom):400>=a?(n=1*a-r.left-r.right,o=360-r.top-r.bottom):(n=.8*a-r.left-r.right,o=360-r.top-r.bottom),console.log(a),console.log(n);var e=d3.scale.ordinal().rangeRoundBands([0,n],.1),l=d3.scale.linear().range([o,0]),i=d3.svg.axis().scale(e).orient("bottom"),c=d3.svg.axis().scale(l).orient("left"),s=d3.select(".chart").attr("width",n+r.left+r.right).attr("height",o+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")");d3.csv("clicks_04.csv",t,function(t,a){console.log("first data is "+a),e.domain(a.map(function(t){return t.name})),l.domain([0,d3.max(a,function(t){return t.value})]),s.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")").call(i),s.append("g").attr("class","y axis").call(c),s.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",function(t){return e(t.name)}).attr("y",function(t){return l(t.value)}).attr("height",function(t){return o-l(t.value)}).attr("width",e.rangeBand())})}$(window).resize(function(){$(".barChart").off()}),window.onload=occurChart;